# mymesi

1.实现如下的一个缓存一致性系统。 如图所示，在一台单机设备中，每一个CPU核心(每个线程)都对应着自己的内存空间。每个内存空间中都缓存着来自磁盘的相同的数据项（id-value形式，假设每个缓存有2^10个数据项，大小为定长，用数组存储即可）。每一个线程都只能对自己内存中的数据项进行修改操作。 读根据id读取value的内容，写根据id改变value的内容。 请仿照多核处理器中基于目录的缓存一致性协议（MESI），实现一个内存层面的基于目录的一致性协议，从而保证多个线程对缓存数据项的并发读写满足缓存的一致性。缓存数据的更新无需写回磁盘(磁盘部分无需实现)。

2.要求： 设计一组并发的实验，验证你实现的系统满足缓存的一致性。 在访问数据项具有一定倾斜分布的情况下，测试不同读写比例下多个线程并发访问缓存数据项的性能，线程数不能低于4。并画出性能图。